<Project Sdk="Microsoft.NET.Sdk.Web">

	<PropertyGroup>
		<VersionPrefix>1.0.2-custom</VersionPrefix>
		<TargetFramework>netcoreapp2.2</TargetFramework>
		<LangVersion>7.3</LangVersion>
		<PreserveCompilationContext>true</PreserveCompilationContext>
		<AssemblyName>AspNetCore.ExistingDb</AssemblyName>
		<OutputType>Exe</OutputType>
		<PackageId>AspNetCore.ExistingDb</PackageId>
		<UserSecretsId>aspnet-AspNetCore.ExistingDb-20161230022416</UserSecretsId>
		<TypeScriptToolsVersion>2.8</TypeScriptToolsVersion>
		<!--<MvcRazorCompileOnPublish>true</MvcRazorCompileOnPublish>-->
		<TieredCompilation>true</TieredCompilation>
	</PropertyGroup>

	<ItemGroup>
		<None Update="wwwroot\**\*;Views\**\*">
			<CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
		</None>
	</ItemGroup>

	<ItemGroup>
		<PackageReference Include="Bogus" Version="25.0.1" />
		<PackageReference Include="Microsoft.AspNetCore.App" Version="2.2.0" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" Version="2.2.0" />
		<PackageReference Include="Microsoft.VisualStudio.Web.BrowserLink" Version="2.2.0" />
		<PackageReference Include="Microsoft.VisualStudio.Web.CodeGeneration" Version="2.2.0" />
		<PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" Version="2.2.0" />
		<PackageReference Include="Pomelo.EntityFrameworkCore.MySql" Version="2.1.4" />
		<!--<PackageReference Include="Microsoft.Extensions.Caching.SqlServer" Version="2.1.2" />-->
		<PackageReference Include="Lib.AspNetCore.ServerTiming" Version="2.1.0" />
		<!--<PackageReference Include="Microsoft.Extensions.Options.ConfigurationExtensions" Version="2.1.1" />-->
		<PackageReference Include="Microsoft.Azure.DocumentDB.Core" Version="2.2.0" />
		<PackageReference Include="Google.Apis.YouTube.v3" Version="1.36.1.1226" />
		<PackageReference Include="Microsoft.AspNetCore.SignalR.Protocols.MessagePack" Version="1.1.0" />
		<PackageReference Include="RedHat.AspNetCore.Server.Kestrel.Transport.Linux" Version="2.1.0-preview1" />
		<PackageReference Include="ILLink.Tasks" Version="0.1.5-preview-1841731" />
	</ItemGroup>

	<Target Name="PrepublishScript" BeforeTargets="PrepareForPublish">
		<Exec Command="npm install --unsafe-perm" />
		<Exec Command="gulp clean" />
		<Exec Command="gulp min" />
	</Target>

	<ItemGroup>
		<DotNetCliToolReference Include="Pomelo.Extensions.Caching.MySqlConfig.Tools" Version="1.0.0-preview2-final" />
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\Caching-MySQL\src\Pomelo.Extensions.Caching.MySql\Pomelo.Extensions.Caching.MySql.csproj" />
		<ProjectReference Include="..\InkBall\src\InkBall.Module\InkBall.Module.csproj" />
		<Watch Include="..\InkBall\src\InkBall.Module\**\*.cshtml" />
	</ItemGroup>

	<ItemGroup>
		<Content Update="client_secrets.json">
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
	</ItemGroup>

</Project>
