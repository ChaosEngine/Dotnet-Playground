"use strict";let CACHE_NAME="cache";self.addEventListener("install",(function(){const e=new URL(self.location).searchParams.get("version");""!==e&&"GIT_BRANCH_GIT_HASH"!==e&&(CACHE_NAME+="_"+e)})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){if(CACHE_NAME!==e)return console.log("Service Worker deleting cache "+e),caches.delete(e)})))})))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request,{ignoreVary:!0}).then((t=>fetch(e.request).then((t=>{if(!t||200!==t.status||"basic"!==t.type)return t||fetch(e.request);if("GET"!==e.request.method)return t;const n=t.clone();return caches.open(CACHE_NAME).then((t=>{t.put(e.request,n)})),t})).catch((()=>t)))))}));
//# sourceMappingURL=sw.min.js.map
