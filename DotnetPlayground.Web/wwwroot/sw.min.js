"use strict";const CACHE_NAME="cache";self.addEventListener("install",(function(e){const s=new URL(location),t=s.searchParams.get("domain"),n=s.searchParams.get("isDev"),r=!0===n||"true"===n||1===n||"1"===n?"":".min",i=["","Home/About","Home/Contact","Home/UnintentionalErr/","Blogs","Blogs/Create","WebCamGallery","WebCamImages/?handler=live","VirtualScroll/","Hashes/","BruteForce/","InkBall/Home","InkBall/Rules","images/favicon.png","images/banner1.svg","images/banner2.svg","images/banner3.svg","images/banner4.svg","images/no_img.svg","img/homescreen.webp","img/homescreen.jpg","lib/jquery/jquery.min.js","lib/bootstrap/css/bootstrap.min.css","lib/bootstrap/js/bootstrap.bundle.min.js","lib/blueimp-gallery/css/blueimp-gallery.min.css","lib/blueimp-gallery/js/blueimp-gallery.min.js","lib/video.js/video-js.min.css","lib/video.js/video.min.js","lib/forge/forge.min.js",`js/workers/shared${r}.js`,`js/workers/BruteForceWorker${r}.js`,`css/site${r}.css`,`js/site${r}.js`];e.waitUntil(caches.open("cache").then((function(e){return e.addAll(i.map((e=>t+e)))})))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){if("cache"!==e)return console.log("Service Worker deleting cache "+e),caches.delete(e)})))})))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request,{ignoreVary:!0}).then((s=>fetch(e.request).then((s=>{if(!s||200!==s.status||"basic"!==s.type)return s||fetch(e.request);if("GET"!==e.request.method)return s;const t=s.clone();return caches.open("cache").then((s=>{s.put(e.request,t)})),s})).catch((()=>s)))))}));