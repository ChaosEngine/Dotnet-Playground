"use strict";const CACHE_NAME="cache";self.addEventListener("install",(function(e){const s=new URL(self.location),t=s.searchParams.get("domain");let a=s.searchParams.get("isDev");a=!0===a||"true"===a||1===a||"1"===a;const i=a?"":".min";let n=["","Home/About","Home/Contact","Home/UnintentionalErr/","Blogs","Blogs/Create","WebCamGallery","WebCamImages/?handler=live","VirtualScroll/","VirtualScroll/Load?search=&offset=0&limit=50&ExtraParam=cached","Hashes/","BruteForce/","InkBall/Home","InkBall/Rules","images/favicon.png","images/banner1.svg","images/banner2.svg","images/banner3.svg","images/banner4.svg","images/no_img.svg","img/homescreen.webp","img/homescreen.jpg","https://haos.hopto.org/webcamgallery/poster.jpeg",`js/workers/shared${i}.js`,`js/workers/BruteForceWorker${i}.js`,`css/site${i}.css`,`js/site${i}.js`];n=a?n.concat(["lib/jquery/jquery.min.js","lib/bootstrap/css/bootstrap.min.css","lib/bootstrap/js/bootstrap.bundle.min.js","lib/blueimp-gallery/css/blueimp-gallery.min.css","lib/blueimp-gallery/js/blueimp-gallery.min.js","lib/video.js/video-js.min.css","lib/video.js/alt/video.core.novtt.min.js","lib/forge/forge.min.js","lib/bootstrap-table/bootstrap-table.min.css","lib/bootstrap-table/bootstrap-table.min.js","lib/jquery-validation/jquery.validate.min.js","lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js","lib/ace-builds/ace.js","lib/ace-builds/mode-csharp.js"]):n.concat(["https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.3.0/css/blueimp-gallery.min.css","https://cdn.jsdelivr.net/npm/video.js@7.10.2/dist/video-js.min.css","https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.0/bootstrap-table.min.css","https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css","https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.3.0/js/blueimp-gallery.min.js","https://cdn.jsdelivr.net/npm/video.js@7.10.2/dist/alt/video.core.novtt.min.js","https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.0/bootstrap-table.min.js","https://cdn.jsdelivr.net/npm/node-forge@0.10.0/dist/forge.min.js","https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js","https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js","https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.11/dist/jquery.validate.unobtrusive.min.js"]),e.waitUntil(caches.open("cache").then((async e=>{n.filter((e=>0===e.indexOf("http"))).map((async s=>{const t=new Request(s,{mode:"no-cors"}),a=await fetch(t);await e.put(t,a)})),await e.addAll(n.filter((e=>0!==e.indexOf("http"))).map((e=>t+e)))})))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){if("cache"!==e)return console.log("Service Worker deleting cache "+e),caches.delete(e)})))})))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request,{ignoreVary:!0}).then((s=>fetch(e.request).then((s=>{if(!s||200!==s.status||"basic"!==s.type)return s||fetch(e.request);if("GET"!==e.request.method)return s;const t=s.clone();return caches.open("cache").then((s=>{s.put(e.request,t)})),s})).catch((()=>s)))))}));