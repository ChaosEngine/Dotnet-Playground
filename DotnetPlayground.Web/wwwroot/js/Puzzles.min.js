"use strict";function PuzzlesOnLoad(){$("#customFile").on("change",function(){const t=$(this)[0].files[0].name;$(this).next("label").text(t)}),$("input[type='radio'].form-check-input").on("change",function(){const t=$(this).next("label").find("img"),e=$("#rangeSize").val(),n=t.attr("src");$("#target").css("--bimg","url("+n+")");const i=$("#rotation").val();$("#target").css("--trans","scale("+.01*e+") rotateZ("+i+"deg)")})[0].focus(),$("#rangeSize, #rotation").on("change",function(){const t=$("#rangeSize").val();let e=$("label[for='rangeSize']");window.localize?(e[0].dataset.i18nOptions=`{ 'size': ${t} }`,window.localize("label[for='rangeSize']")):e.text(`Size ${t}`);const n=$("#rotation").val();e=$("label[for='rotation']"),window.localize?(e[0].dataset.i18nOptions=`{ 'rotation': ${n} }`,window.localize("label[for='rotation']")):e.text(`Rotation ${n}`),$("#target").css("--trans","scale("+.01*t+") rotateZ("+n+"deg)")}),$('input[type="file"]').on("change",function(){if(this.files&&this.files[0]){const t=document.createElement("img"),e=URL.createObjectURL(this.files[0]);t.src=e,t.onload=function(){const n=t.width,i=t.height,a=$("#target");a.css("--uploadedImg","url("+e+")"),a.css("width",n),a.css("height",i)}}}),$(".puzzles form").on("submit",async t=>{t.preventDefault();const e=$("#target")[0],n=$(t.target).find("button[type='submit']")[0];n.disabled=!0,window.localize?(n.dataset.i18n="puzzles.saving",window.localize(".puzzles button[type='submit']")):n.textContent="Saving...";const i=await html2canvas(e),a=document.createElement("a");a.download="puzzle.png",a.href=i.toDataURL(),a.addEventListener("click",()=>{n.disabled=!1,window.localize?(n.dataset.i18n="puzzles.save",window.localize(".puzzles button[type='submit']")):n.textContent="Save"}),a.click()})}
//# sourceMappingURL=Puzzles.min.js.map
