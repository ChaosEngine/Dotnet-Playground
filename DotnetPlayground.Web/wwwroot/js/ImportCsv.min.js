window.addEventListener("load",(()=>{document.getElementById("csvFile").addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){const t=((e,t)=>{const n=e.replace(/"(.*?)"/gs,(e=>e.replace(/[\r\n]/g,""))).split(/\r?\n/);if(n.length<=0)return null;const o=document.createElement("table");o.className="table table-bordered";let l=null,a=0;for(const e of n){if(0===e.length||e.startsWith("#"))continue;const n=e.split(new RegExp(`${t}(?=(?:[^"]*"[^"]*")*[^"]*$)`)).map((e=>e.replace(/^"|"$/g,"").trim()));if(!l){l=o.createTHead();const e=l.insertRow();for(let t=0;t<n.length;t++){const o=document.createElement("th");o.textContent=n[t].trim(),e.appendChild(o)}l=o.createTBody();continue}const r=l.insertRow();for(let e=0;e<n.length;e++)r.insertCell().textContent=n[e].trim();a++}return l=o.createCaption(),l.dataset.i18n="importCsv.totalRows",l.dataset.i18nOptions=`{ 'count': ${a} }`,l.textContent=`Total rows: ${a}`,o})(e.target.result,document.getElementById("delimiter").value||",");t&&(document.getElementById("tableContainer").innerHTML="",document.getElementById("tableContainer").appendChild(t),window.localize&&window.localize("#tableContainer"))},e.readAsText(t)}}))}));
//# sourceMappingURL=ImportCsv.min.js.map
