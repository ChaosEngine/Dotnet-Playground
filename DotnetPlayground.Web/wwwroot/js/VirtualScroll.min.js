window.addEventListener("load",function(){let e=null,t="cached";$.fn.bindFirst=function(e,t){this.on(e,t),this.each(function(){let t=$._data(this,"events")[e.split(".")[0]],o=t.pop();t.splice(0,0,o)})};const o=$("#table");o.data("query-params",function(o){return e=(new Date).getTime(),o.ExtraParam=t,t="cached",$("#spTimeToLoad").text("Loading..."),function(e,t){const o=JSON.parse(t.getItem("VirtOpts"))||{};void 0===e.limit&&void 0!==o?.PageSize?e.limit=o.PageSize:e.limit!==o?.PageSize&&"50"!==e.limit&&(o.PageSize=e.limit,o.set=!0),e.order!==o?.SortOrder&&(void 0===e.order?delete o.SortOrder:o.SortOrder=e.order,o.set=!0),e.sort!==o?.SortName&&(void 0===e.sort?delete o.SortName:o.SortName=e.sort,o.set=!0),void 0===e.offset&&void 0!==o?.PageNumber?e.offset=o.PageNumber:e.offset/parseInt(e.limit)+1!==parseInt(o?.PageNumber)&&(o.PageNumber=e.offset/parseInt(e.limit)+1,o.set=!0),e.search!==o?.SearchText&&(void 0===e.search||e.search.length<=0?delete o.SearchText:o.SearchText=e.search,o.set=!0),!0===o.set&&(delete o.set,t.setItem("VirtOpts",JSON.stringify(o)))}(o,window.localStorage),o.sort&&(o.sort=o.sort[0].toUpperCase()+o.sort.substring(1)),o}),$("#table thead tr th:last").data("formatter",function(e,t){return"string"!=typeof t.hashMD5||"string"!=typeof t.hashSHA256?"":'<button class="btn btn-success btn-sm" title="Validate" value="Validate" onclick="clientValidate(this)">Validate</button>'}),function(e,t){const o=JSON.parse(t.getItem("VirtOpts"));if(void 0!==o?.PageSize){let t=parseInt(o.PageSize);t=isNaN(t)||t<=0?50:t,e.data("page-size",t)}if(void 0!==o?.SortOrder&&["asc","desc"].includes(o.SortOrder)&&e.data("sort-order",o.SortOrder),void 0!==o?.SortName&&["key","hashMD5","hashSHA256"].includes(o.SortName)&&e.data("sort-name",o.SortName),void 0!==o?.PageNumber){let t=parseInt(o.PageNumber);t=isNaN(t)||t<=0?1:t,e.data("page-number",t)}void 0!==o?.SearchText&&"string"==typeof o.SearchText&&o.SearchText.length>0&&e.data("search-text",o.SearchText)}(o,window.localStorage);const a=o.bootstrapTable();let r=!1;$("#btninfo").on("click",function(){const e=a.find("tr.highlight"),t=$(e).find("td:first").text();myAlert(void 0===t||""===t?"No row selected":"Key selected: "+t,"Selection")}),$("button[name='refresh']").bindFirst("click",function(){t="refresh"}),a.on("refresh.bs.table",function(e){e.ExtraParam="refresh"}).on("click-row.bs.table",function(e,t,o){o.addClass("highlight").siblings().removeClass("highlight")}).on("load-success.bs.table",function(){$("#spTimeToLoad").text("Took "+((new Date).getTime()-e)+"ms!"),r=!1,setTimeout(function(){$(".fixed-table-body").scrollTop(2).on("scroll",function(){if(r&&$(this).scrollTop()+$(this).innerHeight()+2>=$(this)[0].scrollHeight){console.log("end reached -> nextPage"),r=!0;const e=a.bootstrapTable("getOptions");e.pageNumber>=e.totalPages?a.bootstrapTable("selectPage",1):a.bootstrapTable("nextPage"),$(this).off("scroll")}else if(r&&$(this).scrollTop()<=0){console.log("top reached <- prevPage"),r=!0;const e=a.bootstrapTable("getOptions");e.pageNumber<=1?a.bootstrapTable("selectPage",e.totalPages):a.bootstrapTable("prevPage"),$(this).off("scroll")}else r=!0})},0)}).on("load-error.bs.table",function(){$("#spTimeToLoad").text("error!")})});
//# sourceMappingURL=VirtualScroll.min.js.map
