"use strict";function HashesOnLoad(){let t=(new Date).getTime();$.validator.addMethod("hashlength",function(t){const e=$('.hash-kind input[type="radio"]:checked').val();return!(!e||"MD5"===e&&32!==t.length||"SHA256"===e&&64!==t.length)},$("#txtSearch").data("val-hashlength")),$("#theForm").validate(),$("#theForm").data("validator").settings.submitHandler=function(t){return function(){const t=$("#divResult"),e=$("#txtSearch").val();if(null===e||""===e)return void t.text("no hash to decode");const a=$('.hash-kind input[type="radio"]:checked').val();switch(a){case"MD5":if(e.length<32)return void t.text("search.length < 32 characters, too short");break;case"SHA256":if(e.length<64)return void t.text("search.length < 64 characters, too short");break;default:return void t.text("no hash method selected")}const n=$("#btnSearch");n.prop("disabled",!0),n.html("<span class='spinner-border spinner-border-sm align-middle' role='status' aria-hidden='true'></span> Loading..."),t.text(""),$("#result_tab").hide();const s={RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()};$.ajax({method:"POST",url:"Search",headers:s,data:{Search:e,Kind:a,ajax:!0}}).done(function(e){n.prop("disabled",!1),n.text("Search"),/^error.*/.test(e)?t.text(e):($("#result_tab").show(),$("#result_tab tbody").find("tr:visible").not("#trFirstResult").remove(),$("#trFirstResult").show(),$("#res_cel_key").text(e.key),$("#res_cel_md5").text(e.hashMD5),$("#res_cel_sha256").text(e.hashSHA256),$("#res_cel_clientValidate").html(null===e.hashMD5||null===e.hashSHA256?"":'<button class="btn btn-success btn-sm" title="Validate" value="Validate" onclick="clientValidate(this)">Validate</button>'))})}(),!1},$("#txtSearch").on("input",function(){if($(this).data("lastval")!==$(this).val()){$(this).data("lastval",$(this).val());const e=$(this).val(),a=(new Date).getTime();if(e.length>4&&a-t>1e3){t=(new Date).getTime();const a=$("#btnSearch");a.prop("disabled",!0),a.html("<span class='spinner-border spinner-border-sm align-middle' role='status' aria-hidden='true'></span> Loading...");const n={RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()};$.ajax({method:"POST",url:"Autocomplete",headers:n,data:{text:e,ajax:!0}}).done(function(t){$("#result_tab").show(),$("#trFirstResult").hide(),a.prop("disabled",!1),a.text("Search"),$("#result_tab tbody").find("tr:visible").not("#trFirstResult").remove(),$.each(t,function(t,e){$("<tr>").append($("<td>").text(e.key),$("<td>").text(e.hashMD5),$("<td>").text(e.hashSHA256),$("<td>").html(null===e.hashMD5||null===e.hashSHA256?"":'<button class="btn btn-success btn-sm" title="Validate" value="Validate" onclick="clientValidate(this)">Validate</button>')).appendTo("#result_tab")})})}}});const e=$("#spLastDate");e.length>0&&e.text(new Date(e.text()).toLocaleString([],{dateStyle:"medium",timeStyle:"long"}))}
//# sourceMappingURL=Hashes.min.js.map
