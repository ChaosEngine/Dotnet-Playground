"use strict";var g_AppRootPath=location.pathname.match(/\/([^/]+)\//)[0],g_isDevelopment=null!==location.host.match(/:\d+/),g_gitBranch="GIT_BRANCH",g_gitHash="GIT_HASH",localize=null;function clientValidate(e){const t=$(e).parent().parent().find("td"),n=t.eq(0).text(),o=t.eq(1).text(),a=t.eq(2).text();if(""===o||""===a)return;let i=forge.md.md5.create();i.update(n);const l=i.digest().toHex();i=forge.md.sha256.create(),i.update(n);const s=i.digest().toHex();t.eq(1).css({color:l===o?"green":"red","font-weight":"bold"}),t.eq(2).css({color:s===a?"green":"red","font-weight":"bold"})}function clientValidateAll(){$("button[value='Validate']").each((e,t)=>clientValidate(t))}function myAlert(e="Content",t="Modal title",n=void 0){const o=document.getElementById("divModal"),a=bootstrap.Modal.getOrCreateInstance(o,{keyboard:!0,backdrop:!0});n&&o.addEventListener("hidden.bs.modal",function e(t){return t.target.removeEventListener(t.type,e),n.call(this,t)}),o.querySelector(".modal-body").textContent=e,document.getElementById("divModalLabel").textContent=t,a.show()}window.addEventListener("DOMContentLoaded",function(){window.registerLocalizationOnReady=[],function(e){function t(){localize("head,body")}i18next.use(i18nextChainedBackend).use(i18nextBrowserLanguageDetector).init({fallbackLng:!1,supportedLngs:["en","pl"],ns:["translation",...location.pathname.match(/InkBall/)?["ib"]:""],defaultNS:"translation",parseMissingKeyHandler:(e,t)=>(console.warn(`Missing i18next localization key: ${e}`),t||e),backend:{backends:[...e?[]:[i18nextLocalStorageBackend],i18nextHttpBackend],backendOptions:[...e?[]:[{prefix:"i18next_res_",expirationTime:6048e5,defaultVersion:g_gitHash}],{loadPath:function([t],[n]){const o="true"===localStorage.getItem("loadFromCDN")&&!e;return"ib"===n?o?`https://cdn.jsdelivr.net/gh/ChaosEngine/InkBall@${g_gitBranch}/src/InkBall.Module/wwwroot/locales/${t}/${n}.min.json`:`${g_AppRootPath}locales/${t}/${n}${e?"":".min"}.json`:o?`https://cdn.jsdelivr.net/gh/ChaosEngine/Dotnet-Playground@${g_gitBranch}/DotnetPlayground.Web/wwwroot/locales/${t}/${n}.min.json`:`${g_AppRootPath}locales/${t}/${n}${e?"":".min"}.json`}}]}},function(){localize=locI18next.init(i18next,{useOptionsAttr:!0,optionsAttr:"data-i18n-options"}),window.registerLocalizationOnReady.length>0&&window.registerLocalizationOnReady.forEach(e=>"function"==typeof e&&e(localize)),t()}),$("#langDropdown button[title]").on("click",function(){const e=$(this).attr("title");i18next.changeLanguage(e,function(){t()})})}(g_isDevelopment)}),$(function(){function e(e,t,n,o,a,i){const l=g_AppRootPath+"Home/ClientsideLog",s=new URLSearchParams;e&&s.set("level",e),t&&s.set("message",t),n&&s.set("url",n),o&&s.set("line",o),a&&s.set("col",a),i&&s.set("error",i),navigator.sendBeacon(l,s)}function t(){const e=$("#offlineIndicator");if(void 0!==e){const t=navigator.onLine?"common.online":"common.offline";e.attr("data-i18n",t),localize("#offlineIndicator"),e.show()}}const n=0,o=2,a=3,i=4;var l=console.trace,s=console.debug,r=console.info,c=console.warn,d=console.error;console.trace=function(t){e(n,t),l.call(this,arguments)},console.debug=function(){s.call(this,arguments)},console.info=function(t){e(o,t),r.call(this,arguments)},console.warn=function(t){e(a,t),c.call(this,arguments)},console.error=function(t,n,o,a,l){e(i,t,n,o,a,l),d.call(this,arguments)},function(e,t){if("serviceWorker"in navigator){const n=`${e}sw${t?"":".min"}.js?version=${encodeURIComponent(g_gitBranch+"_"+g_gitHash)}`;navigator.serviceWorker.register(n,{scope:e}).then(()=>console.log("Service Worker Registered")),navigator.serviceWorker.ready.then(()=>console.log("Service Worker Ready"))}}(g_AppRootPath,g_isDevelopment),(0===$("#logoutForm").length?["aInkList","aInkGame","aInkGameHigh"]:["aInkRegister"]).forEach(e=>{const t=$(`#${e}`);t.attr({tabindex:"-1","aria-disabled":"true"}),t.addClass("disabled")}),window.addEventListener("online",t),window.addEventListener("offline",t),!1===navigator.onLine&&t(),function(){const e=function(){window.matchMedia("(prefers-color-scheme: dark)").matches&&$("html").attr("data-bs-theme","dark")};e(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",function(){window.matchMedia("(prefers-color-scheme: light)").matches&&$("html").attr("data-bs-theme","light")}),$("#themeSwitcher").on("click",function(){const e=$(this).attr("class").split(" ");let t=e.pop();switch(t){case"system":t="light";break;case"light":t="dark";break;default:t="system"}e.push(t),$(this).attr({class:e.join(" "),"data-i18n":`[title]nav.themeSwitcher.${t};[aria-label]nav.themeSwitcher.${t}`}),localize("#themeSwitcher"),"system"===t?($("html").removeAttr("data-bs-theme"),localStorage.removeItem("bs-theme")):($("html").attr("data-bs-theme",t),localStorage.setItem("bs-theme",t))});const t=localStorage.getItem("bs-theme")||"system";"system"===t?$("html").removeAttr("data-bs-theme"):$("html").attr("data-bs-theme",t);const n=$("#themeSwitcher"),o=n.attr("class").split(" ");o.pop(),o.push(t),n.attr({class:o.join(" "),"data-i18n":`[title]nav.themeSwitcher.${t};[aria-label]nav.themeSwitcher.${t}`})}(),$("<div>").addClass("modal fade").attr({id:"divModal",tabindex:"-1","aria-labelledby":"divModalLabel","aria-hidden":"true"}).html('<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title text-break" id="divModalLabel">Modal title</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-break">Content</div><div class="modal-footer"><button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button></div></div></div>').appendTo("body"),window.alert=myAlert,"function"!=typeof $.parseJSON&&($.parseJSON=e=>JSON.parse(e))}),window.onerror=function(e,t,n,o,a){return console.error(e,t,n,o,a),!0};
//# sourceMappingURL=site.min.js.map
