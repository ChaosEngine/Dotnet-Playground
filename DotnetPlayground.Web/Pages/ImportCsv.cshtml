@page
@using DotnetPlayground.Pages
@model ImportCsvModel
@{
	Layout = @"..\Views\Shared\_Layout.cshtml";
	ViewData["Title"] = "Import Csv";
}

<div class="importCsv">
	<h1 data-i18n="importCsv.title">CSV importer</h1>
	<h3 data-i18n="importCsv.description">Import CSV file and display its content in a table.</h3>

	<form method="post" enctype="multipart/form-data" class="row g-3">

		<div class="col-sm-2">
			<label for="delimiter" class="form-label" data-i18n="importCsv.delimiter">Delimiter:</label>
			<input type="text" class="form-control" id="delimiter" name="delimiter" maxlength="1" value="," required />
		</div>

		<div class="col">
			<label for="csvFile" class="form-label" data-i18n="importCsv.chooseFileLabel">Choose CSV File:</label>
			<input type="file" class="form-control" id="csvFile" name="csvFile" accept=".csv" />
		</div>

		<div id="tableContainer" class="row mt-3">
			<!-- Table will be inserted here by JavaScript -->
		</div>
	</form>
</div>

@section scripts
{
	<environment include="Development">
		<script type="text/javascript" src="~/js/ImportCsv.js" asp-append-version="true"></script>
	</environment>
	<environment exclude="Development">
		<script type="text/javascript" src="~/js/ImportCsv.min.js" asp-append-version="true"></script>
	</environment>
}
